/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.98
 * Generated at: 2025-03-10 21:43:07 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.transport;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.academictrip.dao.VehicleDAO;
import com.academictrip.model.Vehicle;
import java.util.List;
import com.academictrip.model.User;

public final class manageVehicles_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/includes/footer.jsp", Long.valueOf(1741635984030L));
    _jspx_dependants.put("/includes/transportHeader.jsp", Long.valueOf(1741638226626L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(4);
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.LinkedHashSet<>(6);
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("com.academictrip.model.User");
    _jspx_imports_classes.add("com.academictrip.dao.VehicleDAO");
    _jspx_imports_classes.add("com.academictrip.model.Vehicle");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");

    // Remove duplicate declarations of pageName and currentUser
    // They are already declared in transportHeader.jsp
    
    // Your existing code for vehicle management
    VehicleDAO vehicleDAO = new VehicleDAO();
    List<Vehicle> vehicles = vehicleDAO.getAllVehicles();
    
    // Get messages from session
    String successMessage = (String) session.getAttribute("successMessage");
    String errorMessage = (String) session.getAttribute("errorMessage");
    
    // Clear messages after retrieving
    session.removeAttribute("successMessage");
    session.removeAttribute("errorMessage");

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Manage Vehicles | Academic Trip System</title>\n");
      out.write("    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\">\n");
      out.write("    <script src=\"https://cdn.tailwindcss.com\"></script>\n");
      out.write("</head>\n");
      out.write("<body class=\"bg-gray-50 min-h-screen\">\n");
      out.write("    <!-- Include header -->\n");
      out.write("    ");
      out.write('\n');
      out.write('\n');

    // Define these variables here so they're available to all pages that include this header
    String pageName = request.getRequestURI().substring(request.getRequestURI().lastIndexOf("/") + 1);
    User currentUser = (User) session.getAttribute("user");
    
    if (currentUser == null) {
        response.sendRedirect(request.getContextPath() + "/login.jsp");
        return;
    }

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<div class=\"bg-indigo-800 shadow-md\">\n");
      out.write("    <div class=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n");
      out.write("        <div class=\"relative flex items-center justify-between h-16\">\n");
      out.write("            <!-- Mobile menu button -->\n");
      out.write("            <div class=\"absolute inset-y-0 left-0 flex items-center sm:hidden\">\n");
      out.write("                <button type=\"button\" id=\"mobile-menu-button\"\n");
      out.write("                        class=\"inline-flex items-center justify-center p-2 rounded-md text-indigo-200 hover:text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\">\n");
      out.write("                    <span class=\"sr-only\">Open main menu</span>\n");
      out.write("                    <i class=\"fas fa-bars text-xl\"></i>\n");
      out.write("                </button>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <!-- Logo and site name -->\n");
      out.write("            <div class=\"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start\">\n");
      out.write("                <div class=\"flex-shrink-0 flex items-center\">\n");
      out.write("                    <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/dashboard.jsp\" class=\"flex items-center\">\n");
      out.write("                        <i class=\"fas fa-bus-alt text-white text-2xl\"></i>\n");
      out.write("                        <span class=\"ml-2 text-white font-bold text-lg hidden md:block\">ATS Transport</span>\n");
      out.write("                    </a>\n");
      out.write("                </div>\n");
      out.write("                \n");
      out.write("                <!-- Desktop Navigation -->\n");
      out.write("                <div class=\"hidden sm:block sm:ml-6\">\n");
      out.write("                    <nav class=\"flex space-x-1\">\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/dashboard.jsp\" \n");
      out.write("                           class=\"px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-indigo-600 flex items-center transition-colors ");
      out.print( pageName.equals("dashboard.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                            <i class=\"fas fa-tachometer-alt mr-1\"></i> Dashboard\n");
      out.write("                        </a>\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/manageDrivers.jsp\" \n");
      out.write("                           class=\"px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-indigo-600 flex items-center transition-colors ");
      out.print( pageName.equals("manageDrivers.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                            <i class=\"fas fa-user-tie mr-1\"></i> Drivers\n");
      out.write("                        </a>\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/manageVehicles.jsp\" \n");
      out.write("                           class=\"px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-indigo-600 flex items-center transition-colors ");
      out.print( pageName.equals("manageVehicles.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                            <i class=\"fas fa-car mr-1\"></i> Vehicles\n");
      out.write("                        </a>\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/assignResources.jsp\" \n");
      out.write("                           class=\"px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-indigo-600 flex items-center transition-colors ");
      out.print( pageName.equals("assignResources.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                            <i class=\"fas fa-clipboard-list mr-1\"></i> Assign\n");
      out.write("                        </a>\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/viewAssignments.jsp\" \n");
      out.write("                           class=\"px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-indigo-600 flex items-center transition-colors ");
      out.print( pageName.equals("viewAssignments.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                            <i class=\"fas fa-list-alt mr-1\"></i> Assignments\n");
      out.write("                        </a>\n");
      out.write("                    </nav>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <!-- User Menu -->\n");
      out.write("            <div class=\"hidden md:block\">\n");
      out.write("                <div class=\"flex items-center\">\n");
      out.write("                    <div class=\"relative ml-3\">\n");
      out.write("                        <button type=\"button\" \n");
      out.write("                                class=\"max-w-xs flex items-center text-sm rounded-full text-white focus:outline-none transition-colors group\"\n");
      out.write("                                id=\"userMenuButton\" \n");
      out.write("                                onclick=\"document.getElementById('userDropdown').classList.toggle('hidden')\">\n");
      out.write("                            <span class=\"bg-indigo-600 p-2 rounded-lg group-hover:bg-indigo-700\">\n");
      out.write("                                <i class=\"fas fa-user-circle text-xl mr-2\"></i>\n");
      out.write("                                ");
 if(currentUser != null) { 
      out.write("\n");
      out.write("                                ");
      out.print( currentUser.getUsername() );
      out.write("\n");
      out.write("                                ");
 } 
      out.write("\n");
      out.write("                                <i class=\"fas fa-chevron-down ml-1 text-xs\"></i>\n");
      out.write("                            </span>\n");
      out.write("                        </button>\n");
      out.write("                        \n");
      out.write("                        <!-- Profile dropdown panel -->\n");
      out.write("                        <div id=\"userDropdown\" class=\"hidden origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"user-menu-button\">\n");
      out.write("                            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/profile.jsp\" class=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\" role=\"menuitem\">\n");
      out.write("                                <i class=\"fas fa-user mr-2\"></i> Your Profile\n");
      out.write("                            </a>\n");
      out.write("                            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/settings.jsp\" class=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\" role=\"menuitem\">\n");
      out.write("                                <i class=\"fas fa-cog mr-2\"></i> Settings\n");
      out.write("                            </a>\n");
      out.write("                            <hr class=\"my-1\">\n");
      out.write("                            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/logout\" class=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\" role=\"menuitem\">\n");
      out.write("                                <i class=\"fas fa-sign-out-alt mr-2\"></i> Sign out\n");
      out.write("                            </a>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- Mobile menu, show/hide based on menu state -->\n");
      out.write("    <div class=\"sm:hidden hidden\" id=\"mobile-menu\">\n");
      out.write("        <div class=\"px-2 pt-2 pb-3 space-y-1 bg-indigo-800 border-t border-indigo-700\">\n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/dashboard.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors ");
      out.print( pageName.equals("dashboard.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                <i class=\"fas fa-tachometer-alt mr-2\"></i> Dashboard\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/manageDrivers.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors ");
      out.print( pageName.equals("manageDrivers.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                <i class=\"fas fa-user-tie mr-2\"></i> Manage Drivers\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/manageVehicles.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors ");
      out.print( pageName.equals("manageVehicles.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                <i class=\"fas fa-car mr-2\"></i> Manage Vehicles\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/assignResources.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors ");
      out.print( pageName.equals("assignResources.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                <i class=\"fas fa-clipboard-list mr-2\"></i> Assign Resources\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/viewAssignments.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors ");
      out.print( pageName.equals("viewAssignments.jsp") ? "bg-indigo-700" : "" );
      out.write("\">\n");
      out.write("                <i class=\"fas fa-list-alt mr-2\"></i> View Assignments\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <hr class=\"border-indigo-600 my-2\">\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/profile.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors\">\n");
      out.write("                <i class=\"fas fa-user mr-2\"></i> Your Profile\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/settings.jsp\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors\">\n");
      out.write("                <i class=\"fas fa-cog mr-2\"></i> Settings\n");
      out.write("            </a>\n");
      out.write("            \n");
      out.write("            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/logout\" \n");
      out.write("               class=\"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-indigo-600 transition-colors\">\n");
      out.write("                <i class=\"fas fa-sign-out-alt mr-2\"></i> Sign out\n");
      out.write("            </a>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("</div>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    // Toggle mobile menu\n");
      out.write("    document.getElementById('mobile-menu-button').addEventListener('click', function() {\n");
      out.write("        document.getElementById('mobile-menu').classList.toggle('hidden');\n");
      out.write("    });\n");
      out.write("    \n");
      out.write("    // Close dropdown when clicking outside\n");
      out.write("    document.addEventListener('click', function(event) {\n");
      out.write("        const userMenuButton = document.getElementById('userMenuButton');\n");
      out.write("        const userDropdown = document.getElementById('userDropdown');\n");
      out.write("        \n");
      out.write("        if (userMenuButton && userDropdown && !userMenuButton.contains(event.target) && !userDropdown.contains(event.target)) {\n");
      out.write("            userDropdown.classList.add('hidden');\n");
      out.write("        }\n");
      out.write("    });\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("\n");
      out.write("    <div class=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n");
      out.write("        <!-- Page header -->\n");
      out.write("        <div class=\"md:flex md:items-center md:justify-between mb-8\">\n");
      out.write("            <div class=\"flex-1 min-w-0\">\n");
      out.write("                <h1 class=\"text-3xl font-bold text-gray-900\">Manage Vehicles</h1>\n");
      out.write("                <p class=\"mt-1 text-sm text-gray-500\">Add, edit and manage the fleet of vehicles available for academic trips.</p>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"mt-4 md:mt-0\">\n");
      out.write("                <button type=\"button\" onclick=\"openAddModal()\" \n");
      out.write("                        class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n");
      out.write("                    <i class=\"fas fa-plus mr-2\"></i> Add New Vehicle\n");
      out.write("                </button>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Alert Messages -->\n");
      out.write("        ");
 if (successMessage != null && !successMessage.isEmpty()) { 
      out.write("\n");
      out.write("            <div class=\"bg-green-50 border-l-4 border-green-500 p-4 mb-6\" id=\"successAlert\">\n");
      out.write("                <div class=\"flex\">\n");
      out.write("                    <div class=\"flex-shrink-0\">\n");
      out.write("                        <i class=\"fas fa-check-circle text-green-500\"></i>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"ml-3\">\n");
      out.write("                        <p class=\"text-green-700\">");
      out.print( successMessage );
      out.write("</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"ml-auto\">\n");
      out.write("                        <button onclick=\"document.getElementById('successAlert').style.display='none'\" class=\"text-green-500\">\n");
      out.write("                            <i class=\"fas fa-times\"></i>\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        ");
 } 
      out.write("\n");
      out.write("        \n");
      out.write("        ");
 if (errorMessage != null && !errorMessage.isEmpty()) { 
      out.write("\n");
      out.write("            <div class=\"bg-red-50 border-l-4 border-red-500 p-4 mb-6\" id=\"errorAlert\">\n");
      out.write("                <div class=\"flex\">\n");
      out.write("                    <div class=\"flex-shrink-0\">\n");
      out.write("                        <i class=\"fas fa-exclamation-circle text-red-500\"></i>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"ml-3\">\n");
      out.write("                        <p class=\"text-red-700\">");
      out.print( errorMessage );
      out.write("</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"ml-auto\">\n");
      out.write("                        <button onclick=\"document.getElementById('errorAlert').style.display='none'\" class=\"text-red-500\">\n");
      out.write("                            <i class=\"fas fa-times\"></i>\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        ");
 } 
      out.write("\n");
      out.write("\n");
      out.write("        <!-- Vehicle List -->\n");
      out.write("        <div class=\"bg-white shadow-md rounded-lg overflow-hidden\">\n");
      out.write("            <div class=\"overflow-x-auto\">\n");
      out.write("                <table class=\"min-w-full divide-y divide-gray-200\">\n");
      out.write("                    <thead class=\"bg-gray-50\">\n");
      out.write("                        <tr>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Registration</th>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Make & Model</th>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Type</th>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Capacity</th>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n");
      out.write("                            <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n");
      out.write("                        </tr>\n");
      out.write("                    </thead>\n");
      out.write("                    <tbody class=\"bg-white divide-y divide-gray-200\">\n");
      out.write("                        ");
 if (vehicles != null && !vehicles.isEmpty()) { 
                            for (Vehicle vehicle : vehicles) { 
      out.write("\n");
      out.write("                            <tr>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">");
      out.print( vehicle.getRegistration() );
      out.write("</td>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">");
      out.print( vehicle.getMake() );
      out.write(' ');
      out.print( vehicle.getModel() );
      out.write("</td>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">");
      out.print( vehicle.getType() );
      out.write("</td>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">");
      out.print( vehicle.getCapacity() );
      out.write(" passengers</td>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap\">\n");
      out.write("                                    ");
 if (vehicle.isAvailable()) { 
      out.write("\n");
      out.write("                                        <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">Available</span>\n");
      out.write("                                    ");
 } else { 
      out.write("\n");
      out.write("                                        <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\">In Use</span>\n");
      out.write("                                    ");
 } 
      out.write("\n");
      out.write("                                </td>\n");
      out.write("                                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n");
      out.write("                                    <div class=\"flex space-x-2\">\n");
      out.write("                                        <button onclick=\"openEditModal('");
      out.print( vehicle.getVehicleId() );
      out.write("', '");
      out.print( vehicle.getRegistration() );
      out.write("', '");
      out.print( vehicle.getMake() );
      out.write("', '");
      out.print( vehicle.getModel() );
      out.write("', '");
      out.print( vehicle.getYear() );
      out.write("', '");
      out.print( vehicle.getType() );
      out.write("', '");
      out.print( vehicle.getCapacity() );
      out.write("')\" class=\"text-indigo-600 hover:text-indigo-900\">\n");
      out.write("                                            <i class=\"fas fa-edit\"></i> Edit\n");
      out.write("                                        </button>\n");
      out.write("                                        <button onclick=\"confirmDelete('");
      out.print( vehicle.getVehicleId() );
      out.write("', '");
      out.print( vehicle.getMake() );
      out.write(' ');
      out.print( vehicle.getModel() );
      out.write("')\" class=\"text-red-600 hover:text-red-900\">\n");
      out.write("                                            <i class=\"fas fa-trash-alt\"></i> Delete\n");
      out.write("                                        </button>\n");
      out.write("                                    </div>\n");
      out.write("                                </td>\n");
      out.write("                            </tr>\n");
      out.write("                        ");
 } } else { 
      out.write("\n");
      out.write("                            <tr>\n");
      out.write("                                <td colspan=\"6\" class=\"px-6 py-4 text-center text-sm text-gray-500\">No vehicles available</td>\n");
      out.write("                            </tr>\n");
      out.write("                        ");
 } 
      out.write("\n");
      out.write("                    </tbody>\n");
      out.write("                </table>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- Add Vehicle Modal -->\n");
      out.write("    <div id=\"addVehicleModal\" class=\"fixed z-10 inset-0 overflow-y-auto hidden\">\n");
      out.write("        <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center\">\n");
      out.write("            <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n");
      out.write("                <div class=\"absolute inset-0 bg-gray-500 opacity-75\" onclick=\"closeModal('addVehicleModal')\"></div>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n");
      out.write("                <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n");
      out.write("                    <div>\n");
      out.write("                        <h3 class=\"text-lg leading-6 font-medium text-gray-900 mb-4\" id=\"modal-title\">\n");
      out.write("                            Add New Vehicle\n");
      out.write("                        </h3>\n");
      out.write("                        <form id=\"addVehicleForm\" action=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/addVehicleAction\" method=\"post\">\n");
      out.write("                            <div class=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"registration\" class=\"block text-sm font-medium text-gray-700\">Registration Number <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"registration\" id=\"registration\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"make\" class=\"block text-sm font-medium text-gray-700\">Make <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"make\" id=\"make\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"model\" class=\"block text-sm font-medium text-gray-700\">Model <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"model\" id=\"model\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"year\" class=\"block text-sm font-medium text-gray-700\">Year <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"number\" name=\"year\" id=\"year\" min=\"2000\" max=\"2100\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"type\" class=\"block text-sm font-medium text-gray-700\">Type <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <select id=\"type\" name=\"type\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                            <option value=\"\">Select a vehicle type</option>\n");
      out.write("                                            <option value=\"Bus\">Bus</option>\n");
      out.write("                                            <option value=\"Van\">Van</option>\n");
      out.write("                                            <option value=\"Car\">Car</option>\n");
      out.write("                                            <option value=\"Minibus\">Minibus</option>\n");
      out.write("                                        </select>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"capacity\" class=\"block text-sm font-medium text-gray-700\">Passenger Capacity <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"number\" name=\"capacity\" id=\"capacity\" min=\"1\" max=\"100\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n");
      out.write("                                <button type=\"submit\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\">\n");
      out.write("                                    Add Vehicle\n");
      out.write("                                </button>\n");
      out.write("                                <button type=\"button\" onclick=\"closeModal('addVehicleModal')\" class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm\">\n");
      out.write("                                    Cancel\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- Edit Vehicle Modal -->\n");
      out.write("    <div id=\"editVehicleModal\" class=\"fixed z-10 inset-0 overflow-y-auto hidden\">\n");
      out.write("        <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center\">\n");
      out.write("            <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n");
      out.write("                <div class=\"absolute inset-0 bg-gray-500 opacity-75\" onclick=\"closeModal('editVehicleModal')\"></div>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n");
      out.write("                <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n");
      out.write("                    <div>\n");
      out.write("                        <h3 class=\"text-lg leading-6 font-medium text-gray-900 mb-4\" id=\"modal-title\">\n");
      out.write("                            Edit Vehicle\n");
      out.write("                        </h3>\n");
      out.write("                        <form id=\"editVehicleForm\" action=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/editVehicle\" method=\"post\">\n");
      out.write("                            <input type=\"hidden\" id=\"editVehicleId\" name=\"vehicleId\">\n");
      out.write("                            <div class=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editRegistration\" class=\"block text-sm font-medium text-gray-700\">Registration Number <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"registration\" id=\"editRegistration\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editMake\" class=\"block text-sm font-medium text-gray-700\">Make <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"make\" id=\"editMake\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editModel\" class=\"block text-sm font-medium text-gray-700\">Model <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"text\" name=\"model\" id=\"editModel\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editYear\" class=\"block text-sm font-medium text-gray-700\">Year <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"number\" name=\"year\" id=\"editYear\" min=\"2000\" max=\"2100\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editType\" class=\"block text-sm font-medium text-gray-700\">Type <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <select id=\"editType\" name=\"type\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                            <option value=\"\">Select a vehicle type</option>\n");
      out.write("                                            <option value=\"Bus\">Bus</option>\n");
      out.write("                                            <option value=\"Van\">Van</option>\n");
      out.write("                                            <option value=\"Car\">Car</option>\n");
      out.write("                                            <option value=\"Minibus\">Minibus</option>\n");
      out.write("                                        </select>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"sm:col-span-3\">\n");
      out.write("                                    <label for=\"editCapacity\" class=\"block text-sm font-medium text-gray-700\">Passenger Capacity <span class=\"text-red-500\">*</span></label>\n");
      out.write("                                    <div class=\"mt-1\">\n");
      out.write("                                        <input type=\"number\" name=\"capacity\" id=\"editCapacity\" min=\"1\" max=\"100\" required\n");
      out.write("                                               class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\">\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n");
      out.write("                                <button type=\"submit\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\">\n");
      out.write("                                    Update Vehicle\n");
      out.write("                                </button>\n");
      out.write("                                <button type=\"button\" onclick=\"closeModal('editVehicleModal')\" class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm\">\n");
      out.write("                                    Cancel\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("    \n");
      out.write("    <!-- Delete Confirmation Modal -->\n");
      out.write("    <div id=\"deleteModal\" class=\"fixed z-10 inset-0 overflow-y-auto hidden\">\n");
      out.write("        <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center\">\n");
      out.write("            <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n");
      out.write("                <div class=\"absolute inset-0 bg-gray-500 opacity-75\" onclick=\"closeModal('deleteModal')\"></div>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n");
      out.write("                <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n");
      out.write("                    <div class=\"sm:flex sm:items-start\">\n");
      out.write("                        <div class=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n");
      out.write("                            <i class=\"fas fa-exclamation-triangle text-red-600\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n");
      out.write("                            <h3 class=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-title\">\n");
      out.write("                                Delete Vehicle\n");
      out.write("                            </h3>\n");
      out.write("                            <div class=\"mt-2\">\n");
      out.write("                                <p class=\"text-sm text-gray-500\" id=\"deleteConfirmationText\">\n");
      out.write("                                    Are you sure you want to delete this vehicle? This action cannot be undone.\n");
      out.write("                                </p>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("                <form id=\"deleteVehicleForm\" action=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/transport/deleteVehicle\" method=\"post\">\n");
      out.write("                    <input type=\"hidden\" id=\"deleteVehicleId\" name=\"vehicleId\">\n");
      out.write("                    <div class=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n");
      out.write("                        <button type=\"submit\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm\">\n");
      out.write("                            Delete\n");
      out.write("                        </button>\n");
      out.write("                        <button type=\"button\" onclick=\"closeModal('deleteModal')\" class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\">\n");
      out.write("                            Cancel\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                </form>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("    \n");
      out.write("    <!-- Include footer -->\n");
      out.write("    ");
      out.write('\n');
      out.write("\n");
      out.write("\n");
      out.write("<footer class=\"bg-indigo-900 text-white mt-auto py-6\">\n");
      out.write("    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n");
      out.write("        <div class=\"md:flex md:items-center md:justify-between\">\n");
      out.write("            <div class=\"flex justify-center md:order-2 space-x-6\">\n");
      out.write("                <a href=\"#\" class=\"text-gray-300 hover:text-white\">\n");
      out.write("                    <span class=\"sr-only\">Help Center</span>\n");
      out.write("                    <i class=\"fas fa-question-circle text-xl\"></i>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"#\" class=\"text-gray-300 hover:text-white\">\n");
      out.write("                    <span class=\"sr-only\">Contact Support</span>\n");
      out.write("                    <i class=\"fas fa-headset text-xl\"></i>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"#\" class=\"text-gray-300 hover:text-white\">\n");
      out.write("                    <span class=\"sr-only\">Privacy Policy</span>\n");
      out.write("                    <i class=\"fas fa-shield-alt text-xl\"></i>\n");
      out.write("                </a>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"mt-8 md:mt-0 md:order-1 text-center md:text-left\">\n");
      out.write("                <p class=\"text-base text-gray-300\">&copy; ");
      out.print( java.time.Year.now().getValue() );
      out.write(" Academic Trip System. All rights reserved.</p>\n");
      out.write("                <p class=\"text-sm text-gray-400 mt-1\">Version 1.0.0</p>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("</footer>\n");
      out.write("\n");
      out.write("<!-- Add to bottom of page to prevent FOUC (Flash of Unstyled Content) -->\n");
      out.write("<script>\n");
      out.write("    // Apply any custom theme preferences if stored\n");
      out.write("    document.addEventListener('DOMContentLoaded', function() {\n");
      out.write("        // Check for any stored theme preferences and apply them\n");
      out.write("        const theme = localStorage.getItem('ats-theme');\n");
      out.write("        if (theme === 'dark') {\n");
      out.write("            // Add dark mode classes if we implement dark mode in the future\n");
      out.write("        }\n");
      out.write("    });\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("    \n");
      out.write("    <script>\n");
      out.write("    // Modal handling functions\n");
      out.write("    function openAddModal() {\n");
      out.write("        document.getElementById('addVehicleModal').classList.remove('hidden');\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function openEditModal(vehicleId, registration, make, model, year, type, capacity) {\n");
      out.write("        document.getElementById('editVehicleId').value = vehicleId;\n");
      out.write("        document.getElementById('editRegistration').value = registration;\n");
      out.write("        document.getElementById('editMake').value = make;\n");
      out.write("        document.getElementById('editModel').value = model;\n");
      out.write("        document.getElementById('editYear').value = year;\n");
      out.write("        document.getElementById('editType').value = type;\n");
      out.write("        document.getElementById('editCapacity').value = capacity;\n");
      out.write("        document.getElementById('editVehicleModal').classList.remove('hidden');\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function confirmDelete(vehicleId, vehicleName) {\n");
      out.write("        document.getElementById('deleteVehicleId').value = vehicleId;\n");
      out.write("        document.getElementById('deleteConfirmationText').textContent = \n");
      out.write("            `Are you sure you want to delete the vehicle ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vehicleName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("? This action cannot be undone.`;\n");
      out.write("        document.getElementById('deleteModal').classList.remove('hidden');\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    function closeModal(modalId) {\n");
      out.write("        document.getElementById(modalId).classList.add('hidden');\n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    document.addEventListener('DOMContentLoaded', function() {\n");
      out.write("        // Auto-hide alerts after 5 seconds\n");
      out.write("        setTimeout(function() {\n");
      out.write("            const alerts = document.querySelectorAll('#successAlert, #errorAlert');\n");
      out.write("            alerts.forEach(alert => {\n");
      out.write("                if (alert) alert.style.display = 'none';\n");
      out.write("            });\n");
      out.write("        }, 5000);\n");
      out.write("        \n");
      out.write("        // Form validation\n");
      out.write("        const forms = document.querySelectorAll('#addVehicleForm, #editVehicleForm');\n");
      out.write("        forms.forEach(form => {\n");
      out.write("            form.addEventListener('submit', function(e) {\n");
      out.write("                const requiredFields = form.querySelectorAll('[required]');\n");
      out.write("                let isValid = true;\n");
      out.write("                \n");
      out.write("                requiredFields.forEach(field => {\n");
      out.write("                    if (!field.value.trim()) {\n");
      out.write("                        isValid = false;\n");
      out.write("                        field.classList.add('border-red-500');\n");
      out.write("                    } else {\n");
      out.write("                        field.classList.remove('border-red-500');\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("                \n");
      out.write("                if (!isValid) {\n");
      out.write("                    e.preventDefault();\n");
      out.write("                    alert('Please fill in all required fields');\n");
      out.write("                }\n");
      out.write("            });\n");
      out.write("        });\n");
      out.write("        \n");
      out.write("        // Add keyboard event for ESC key to close modals\n");
      out.write("        document.addEventListener('keydown', function(e) {\n");
      out.write("            if (e.key === 'Escape') {\n");
      out.write("                const modals = document.querySelectorAll('#addVehicleModal, #editVehicleModal, #deleteModal');\n");
      out.write("                modals.forEach(modal => {\n");
      out.write("                    if (!modal.classList.contains('hidden')) {\n");
      out.write("                        modal.classList.add('hidden');\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("            }\n");
      out.write("        });\n");
      out.write("    });\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
